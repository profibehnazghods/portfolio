<div class="page">
    <mat-card class="card" appearance="outlined">
      <div class="brand">
        <div class="logo">
          <mat-icon>admin_panel_settings</mat-icon>
        </div>
        <div class="titles">
          <h1>Admin Panel</h1>
          <p>Sign in to manage your inbox</p>
        </div>
      </div>
  
      <form class="form" [formGroup]="form" (ngSubmit)="submit()">
        <mat-form-field appearance="outline" class="full">
          <mat-label>Email</mat-label>
          <input matInput formControlName="email" autocomplete="username" placeholder="admin@portfolio.local" />
          <mat-icon matSuffix>mail</mat-icon>
  
          <mat-error *ngIf="emailCtrl?.hasError('required')">Email is required</mat-error>
          <mat-error *ngIf="emailCtrl?.hasError('email')">Please enter a valid email</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline" class="full">
          <mat-label>Password</mat-label>
          <input
            matInput
            [type]="hidePassword ? 'password' : 'text'"
            formControlName="password"
            autocomplete="current-password"
            placeholder="••••••••"
          />
  
          <button
            mat-icon-button
            matSuffix
            type="button"
            (click)="hidePassword = !hidePassword"
            [attr.aria-label]="hidePassword ? 'Show password' : 'Hide password'"
          >
            <mat-icon>{{ hidePassword ? 'visibility' : 'visibility_off' }}</mat-icon>
          </button>
  
          <mat-error *ngIf="passwordCtrl?.hasError('required')">Password is required</mat-error>
          <mat-error *ngIf="passwordCtrl?.hasError('minlength')">Password must be at least 6 characters</mat-error>
        </mat-form-field>
  
        <div class="error" *ngIf="error">
          <mat-icon>error_outline</mat-icon>
          <span>{{ error }}</span>
        </div>
  
        <button mat-flat-button color="primary" class="full submit" type="submit" [disabled]="loading">
          <ng-container *ngIf="!loading; else loadingTpl">
            <mat-icon>login</mat-icon>
            <span>Sign in</span>
          </ng-container>
  
          <ng-template #loadingTpl>
            <mat-progress-spinner diameter="18" mode="indeterminate"></mat-progress-spinner>
            <span>Signing in...</span>
          </ng-template>
        </button>
  
        <div class="hint">
          <mat-icon>lock</mat-icon>
          <span>Protected area • JWT based</span>
        </div>
      </form>
    </mat-card>
  </div>
  